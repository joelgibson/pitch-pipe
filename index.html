<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Pitch Pipe</title>
  <meta name="author" content="Joel Gibson">
  <meta name="description" content="An online pitch pipe, with a frequency analyser and just intonation support.">
  <meta name="theme-color" content="#1F2937">
  <link rel="icon" type="image/svg+xml" href="src/icon/compressed.svg">
  <link rel="apple-touch-icon" href="src/icon/compressed.png">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no" />
  <title>Pitch pipe</title>
  <script type="module">
    import './src/app.css'
    import PitchPipe from './src/PitchPipe.svelte'

    // Initialise app, append to <main>
    new PitchPipe({target: document.querySelector('main')})

    // About section button and toggle
    let aboutShown = false
    let aboutSection = document.querySelector('.about')
    let aboutButton = document.querySelector('.aboutbutton')
    aboutButton.addEventListener('click', function() {
      aboutShown = !aboutShown
      aboutSection.style.display = (aboutShown) ? '' : 'none'
      aboutButton.innerText = (aboutShown) ? 'Close' : 'About'
    })
  </script>
</head>

<body>
  <!-- The fixed-viewport no-scrolling stuff seems to work better on an element which is not body, hence <main>. -->
  <main>
    <h1>Pitch pipe</h1>
  </main>
  <section class="about" style="display:none">
    <h1>About</h1>
    <p>
      This pitch pipe was designed as a bit of an experiment into making just intonation intervals easily available in an app: for more information, read the <a href="/blog/pitch-pipe/">blog post</a>.
      It works offline, and to add it to your homescreen select the share menu in your phone browser, then "Add to Home Screen".
    </p>
    <p>
      A few notes on how to use it:
      <ul>
        <li>It is designed for phones in portrait orientation.</li>
        <li>The outer ring of notes are always equal temperament, with A4 at 440 Hz.</li>
        <li>The inner rings are a small selection of just-intonation intervals, relative to the tonal centre.</li>
        <li>The very outer ring rotates, changing the tonal centre.</li>
        <li>To play a chord on a phone, hold down multiple notes at once.</li>
        <li>To play a chord on a computer, hold the shift key while clicking notes.</li>
      </ul>
    </p>
    <footer>Created by <a href="https://www.jgibson.id.au/">Joel Gibson</a></footer>
  </section>
  <a class="aboutbutton" href="javascript:void(0)">About</a>
</body>
</html>
